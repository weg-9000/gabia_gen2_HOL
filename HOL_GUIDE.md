# 가비아 클라우드 GEN2 Hands-on Lab 완전 진행 가이드

## 📋 목차
1. [시작하기 전에](#시작하기-전에)
2. [학습 경로 선택](#학습-경로-선택)
3. [단계별 진행 가이드](#단계별-진행-가이드)
4. [체크리스트](#체크리스트)
5. [문제 해결](#문제-해결)
6. [완료 후 다음 단계](#완료-후-다음-단계)

---

## 🚀 시작하기 전에

### 필수 준비사항

#### 1. 계정 및 크레딧
```
✅ 가비아 클라우드 계정 생성
✅ 무료 체험 크레딧 확인 (또는 결제 수단 등록)
✅ 예상 비용: 월 50,000원 이내 (테스트 환경)
```

#### 2. 로컬 환경
```
✅ SSH 클라이언트 (Mac/Linux: 기본 제공, Windows: PowerShell/PuTTY)
✅ 터미널 에뮬레이터
✅ Git (선택사항)
✅ Docker Desktop (Lab 11 이후 필요)
```

#### 3. 사전 지식
```
필수:
- 기본 Linux 명령어 (ls, cd, mkdir, vim)
- SSH 접속 경험
- 기본 네트워크 개념 (IP, Port)

권장:
- Python 기초
- Docker 기초 (Lab 11부터)
- Kubernetes 기초 (Lab 12부터)
```

### 시간 투자 계획

| 수준 | 소요 시간 | 진행 범위 |
|------|----------|----------|
| **빠른 체험** | 2-3시간 | Lab 01, 03, 11 |
| **기초 과정** | 1-2일 | Lab 01-10 |
| **중급 과정** | 3-4일 | Lab 01-16 |
| **전체 과정** | 1-2주 | Lab 01-24 |

---

## 🎯 학습 경로 선택

### 경로 1: 백엔드 개발자 (추천: 1-2일)
```
목표: 클라우드에 애플리케이션 배포 및 운영

Lab 01 → Lab 03 → Lab 05 → Lab 11 → Lab 12 → Lab 13 → Lab 17

핵심 학습:
✅ 서버 생성 및 관리
✅ 데이터베이스 스토리지 분리
✅ 컨테이너화
✅ Kubernetes 배포
✅ 모니터링
```

### 경로 2: DevOps 엔지니어 (추천: 3-4일)
```
목표: CI/CD 및 인프라 자동화

Lab 01 → Lab 02 → Lab 03 → Lab 06 → Lab 09 → 
Lab 11 → Lab 12 → Lab 13 → Lab 14 → Lab 17 → 
Lab 18 → Lab 23

핵심 학습:
✅ 인프라 코드화 (이미지)
✅ 네트워크 설계
✅ 보안 설정
✅ Kubernetes 오케스트레이션
✅ 자동 백업 및 모니터링
✅ API/CLI 자동화
```

### 경로 3: 네트워크 엔지니어 (추천: 1-2일)
```
목표: 클라우드 네트워크 아키텍처

Lab 01 → Lab 06 → Lab 07 → Lab 08 → Lab 09 → 
Lab 10 → Lab 19 → Lab 20

핵심 학습:
✅ VPC 설계
✅ 서브넷 분리
✅ NAT Gateway
✅ 보안 그룹
✅ VPC Peering
✅ 로드밸런서 HA
```

### 경로 4: 시스템 관리자 (추천: 2-3일)
```
목표: 클라우드 인프라 관리 및 운영

Lab 01 → Lab 03 → Lab 05 → Lab 09 → Lab 17 → 
Lab 18 → Lab 21 → Lab 22 → Lab 24

핵심 학습:
✅ 서버 및 스토리지 관리
✅ 백업 전략
✅ 보안 관리
✅ 모니터링
✅ 계정 및 권한 관리
✅ 비용 관리
```

### 경로 5: 전체 마스터 (추천: 1-2주)
```
목표: 클라우드 솔루션 아키텍트

Lab 01 → Lab 02 → ... → Lab 24 (전체)

핵심 학습:
✅ 클라우드 전체 스택
✅ 아키텍처 설계
✅ 보안 및 규정 준수
✅ 비용 최적화
✅ 고가용성 구성
```

---

## 📖 단계별 진행 가이드

### Phase 1: 기초 인프라 (Lab 01-05)

#### Lab 01: 서버 생성 ⭐ 필수
**소요 시간**: 30분

**무엇을 배우나요?**
- 클라우드 서버 생성의 모든 과정
- SSH를 통한 원격 서버 관리
- FastAPI 애플리케이션 배포

**진행 순서**:
```bash
1. 가비아 클라우드 콘솔 로그인
2. lab01-server-creation/README.md 읽기
3. 단계별로 따라하기
4. 체크리스트 확인

✅ 서버 생성 완료
✅ SSH 접속 성공
✅ FastAPI 앱 실행 확인
✅ http://서버IP:8000/docs 접속 가능
```

**다음으로**:
- Lab 02로 바로 진행 (이미지 생성)
- 또는 Lab 03로 건너뛰기 (스토리지)

#### Lab 02: 커스텀 이미지 ⭐ 권장
**소요 시간**: 20분

**무엇을 배우나요?**
- 서버를 이미지로 저장
- 빠른 복제 및 배포
- 인프라 코드화 기초

**진행 순서**:
```bash
1. Lab 01에서 만든 서버 사용
2. lab02-custom-image/README.md 읽기
3. 서버 정리 및 이미지 생성
4. 이미지로 새 서버 생성 테스트

✅ 이미지 생성 완료
✅ 이미지로 새 서버 생성 성공
✅ 설정이 모두 보존됨 확인
```

#### Lab 03: 블록 스토리지 ⭐ 필수
**소요 시간**: 25분

**무엇을 배우나요?**
- 스토리지 분리의 중요성
- PostgreSQL 데이터베이스 설치
- 파일시스템 마운트

**진행 순서**:
```bash
1. lab03-block-storage/README.md 읽기
2. 블록 스토리지 생성 및 연결
3. PostgreSQL 설치
4. 쇼핑몰 데이터베이스 초기화

✅ 블록 스토리지 마운트 완료
✅ PostgreSQL 실행 중
✅ 20개 제품 데이터 확인
✅ FastAPI가 PostgreSQL 사용 중
```

**중요**: 이후 모든 Lab은 이 설정을 기반으로 합니다!

#### Lab 04: NAS 스토리지 (선택)
**소요 시간**: 20분
- 파일 공유 스토리지
- 제품 이미지 업로드

#### Lab 05: 스냅샷/백업 ⭐ 권장
**소요 시간**: 15분
- 데이터 보호 전략
- 복원 테스트

**Phase 1 완료 체크**:
```
□ 서버를 생성할 수 있다
□ SSH로 접속할 수 있다
□ PostgreSQL이 블록 스토리지에 있다
□ 백업 방법을 안다
□ 총 소요 시간: 약 2시간
```

---

### Phase 2: 네트워킹 (Lab 06-10)

#### Lab 06: VPC/서브넷 ⭐ 필수
**소요 시간**: 25분

**무엇을 배우나요?**
- 가상 네트워크 설계
- CIDR 계산
- 서브넷 분리 전략

**진행 순서**:
```bash
1. lab06-vpc-subnet/README.md 읽기
2. VPC 생성 (10.0.0.0/16)
3. 서브넷 3개 생성
4. 라우팅 테이블 확인

✅ VPC 생성 완료
✅ Public/Private 서브넷 분리
✅ 서버가 VPC 내에서 통신
```

#### Lab 07: NAT Gateway (선택)
**소요 시간**: 20분
- Private 서브넷의 인터넷 접근

#### Lab 08: 공인 IP (선택)
**소요 시간**: 10분
- 탄력적 IP 관리

#### Lab 09: 보안 그룹 ⭐ 필수
**소요 시간**: 20분

**무엇을 배우나요?**
- 클라우드 방화벽
- Inbound/Outbound 규칙
- 최소 권한 원칙

**진행 순서**:
```bash
1. 보안 그룹 생성
   - Web: 80, 443 허용
   - App: 8000 허용 (Web에서만)
   - DB: 5432 허용 (App에서만)
2. 서버에 적용
3. 테스트

✅ 포트 규칙 설정 완료
✅ 외부에서 SSH만 가능
✅ 내부 통신 정상
```

#### Lab 10: VPC Peering (선택)
**소요 시간**: 25분
- VPC 간 연결

**Phase 2 완료 체크**:
```
□ VPC를 설계할 수 있다
□ 서브넷을 나눌 수 있다
□ 보안 그룹을 설정할 수 있다
□ 네트워크 격리를 이해한다
□ 총 소요 시간: 약 1.5시간
```

---

### Phase 3: 컨테이너 & Kubernetes (Lab 11-16)

#### Lab 11: 컨테이너 레지스트리 ⭐ 필수
**소요 시간**: 30분

**무엇을 배우나요?**
- Docker 이미지 빌드
- 컨테이너 레지스트리 사용
- 멀티스테이지 빌드

**진행 순서**:
```bash
1. Docker 설치 (로컬 또는 서버)
2. 쇼핑몰 이미지 빌드
3. 레지스트리에 Push
4. Pull 및 실행 테스트

✅ Docker 이미지 빌드 성공
✅ 레지스트리 Push 완료
✅ 컨테이너로 앱 실행 확인
```

#### Lab 12: Kubernetes 클러스터 ⭐ 필수
**소요 시간**: 35분

**무엇을 배우나요?**
- Kubernetes 기본 개념
- 클러스터 생성
- kubectl 사용법

**진행 순서**:
```bash
1. K8s 클러스터 생성 (2 노드)
2. kubectl 설정
3. 클러스터 상태 확인
4. 기본 명령어 연습

✅ 클러스터 생성 완료
✅ kubectl 명령어 작동
✅ 노드 2개 Ready 상태
```

#### Lab 13: Kubernetes Deployment ⭐ 필수
**소요 시간**: 30분

**무엇을 배우나요?**
- Deployment 생성
- Service 노출
- ConfigMap/Secret 사용

**진행 순서**:
```bash
1. Deployment YAML 작성
2. Service 생성 (LoadBalancer)
3. 배포 및 확인
4. 접속 테스트

✅ Pod 2개 실행 중
✅ LoadBalancer IP 할당
✅ 외부에서 접속 가능
✅ 쇼핑몰 API 정상 작동
```

#### Lab 14: HPA (Auto Scaling) ⭐ 권장
**소요 시간**: 25분
- 자동 확장
- 부하 테스트

#### Lab 15: PVC (Persistent Volume) (선택)
**소요 시간**: 25분
- 영속적 스토리지
- StatefulSet

#### Lab 16: RBAC (선택)
**소요 시간**: 20분
- 권한 관리
- 클러스터 업그레이드

**Phase 3 완료 체크**:
```
□ Docker 이미지를 만들 수 있다
□ Kubernetes 클러스터를 생성할 수 있다
□ 애플리케이션을 K8s에 배포할 수 있다
□ 자동 확장을 설정할 수 있다
□ 총 소요 시간: 약 2.5시간
```

---

### Phase 4: 관리 & 정책 (Lab 17-24)

#### Lab 17: 모니터링 ⭐ 필수
**소요 시간**: 25분
- Prometheus 설치
- Grafana 대시보드
- 알림 설정

#### Lab 18: 자동 백업 ⭐ 권장
**소요 시간**: 20분
- 백업 자동화
- 복원 절차

#### Lab 19: 로드밸런서 HA (선택)
**소요 시간**: 30분
- 고가용성 구성
- 장애 조치 테스트

#### Lab 20: CDN (선택)
**소요 시간**: 20분
- 콘텐츠 전송 네트워크
- 성능 최적화

#### Lab 21: 계정 관리 ⭐ 권장
**소요 시간**: 20분
- IAM 정책
- 권한 분리

#### Lab 22: 비용 관리 ⭐ 필수
**소요 시간**: 20분
- 비용 분석
- 예산 알림
- 최적화 팁

#### Lab 23: API & CLI (선택)
**소요 시간**: 25분
- 자동화 스크립트
- Infrastructure as Code

#### Lab 24: 정리 ⭐ 필수
**소요 시간**: 20분
- 리소스 삭제
- 비용 확인
- 학습 정리

**Phase 4 완료 체크**:
```
□ 모니터링을 설정할 수 있다
□ 백업 전략을 수립할 수 있다
□ 비용을 관리할 수 있다
□ 리소스를 정리할 수 있다
□ 총 소요 시간: 약 2시간
```

---

## ✅ 전체 체크리스트

### 시작 전
```
□ 가비아 클라우드 계정 생성
□ 크레딧 확인 (최소 50,000원 권장)
□ SSH 클라이언트 준비
□ 프로젝트 파일 다운로드
```

### Phase 1: 기초 인프라
```
□ Lab 01: 서버 생성 완료
□ Lab 02: 이미지 생성 완료 (선택)
□ Lab 03: PostgreSQL 설치 완료
□ Lab 04: NAS 설정 완료 (선택)
□ Lab 05: 백업 설정 완료
```

### Phase 2: 네트워킹
```
□ Lab 06: VPC 설계 완료
□ Lab 07: NAT Gateway 완료 (선택)
□ Lab 08: 공인 IP 완료 (선택)
□ Lab 09: 보안 그룹 완료
□ Lab 10: VPC Peering 완료 (선택)
```

### Phase 3: 컨테이너 & K8s
```
□ Lab 11: Docker 이미지 빌드 완료
□ Lab 12: K8s 클러스터 완료
□ Lab 13: K8s 배포 완료
□ Lab 14: HPA 설정 완료
□ Lab 15: PVC 설정 완료 (선택)
□ Lab 16: RBAC 설정 완료 (선택)
```

### Phase 4: 관리
```
□ Lab 17: 모니터링 설정 완료
□ Lab 18: 자동 백업 완료
□ Lab 19: HA 구성 완료 (선택)
□ Lab 20: CDN 설정 완료 (선택)
□ Lab 21: 계정 관리 완료
□ Lab 22: 비용 관리 완료
□ Lab 23: API/CLI 완료 (선택)
□ Lab 24: 전체 정리 완료
```

---

## 🔧 문제 해결

### 일반적인 문제

#### 1. SSH 접속 실패
```bash
# 증상: Connection refused

# 해결:
1. 서버가 Running 상태인지 확인
2. 보안 그룹에 22번 포트 허용 확인
3. SSH 키 권한 확인: chmod 400 key.pem
4. 올바른 IP 주소 사용 확인
```

#### 2. 애플리케이션 접속 안 됨
```bash
# 증상: curl: (7) Failed to connect

# 해결:
1. 앱이 실행 중인지 확인: ps aux | grep uvicorn
2. 올바른 포트 바인딩 확인: 0.0.0.0:8000
3. 방화벽 규칙 확인
4. 로그 확인: tail -f app.log
```

#### 3. 디스크 공간 부족
```bash
# 증상: No space left on device

# 해결:
1. 사용량 확인: df -h
2. 큰 파일 찾기: du -sh /* | sort -h
3. 로그 정리: sudo truncate -s 0 /var/log/*.log
4. 스토리지 확장 고려
```

#### 4. PostgreSQL 접속 실패
```bash
# 증상: Connection refused

# 해결:
1. 서비스 상태: sudo systemctl status postgresql
2. 포트 확인: sudo netstat -tlnp | grep 5432
3. 설정 확인: /etc/postgresql/14/main/postgresql.conf
4. 로그 확인: tail -f /var/log/postgresql/*.log
```

#### 5. Kubernetes Pod이 시작 안 됨
```bash
# 증상: CrashLoopBackOff

# 해결:
1. Pod 상태: kubectl get pods
2. 상세 정보: kubectl describe pod <pod-name>
3. 로그 확인: kubectl logs <pod-name>
4. 이미지 확인: 레지스트리에 있는지
```

### 비용 초과 방지

```bash
# 매일 확인
1. 콘솔 → 비용 관리
2. 사용하지 않는 리소스 중지/삭제
3. 테스트 완료 후 즉시 정리

# 알림 설정
1. 예산 설정: 월 50,000원
2. 80% 도달 시 알림
3. 100% 도달 시 자동 중지 (선택)
```

---

